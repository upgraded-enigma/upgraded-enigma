<div fxLayout="row wrap">
  <h3 fxFlex="100">
    {{ 'user.title' | translate }}
  </h3>

  <mat-chip-list [attr.aria-label]="'user.status' | translate" *ngIf="user$ | async as user">
    <mat-chip [color]="user.status.initialized ? 'primary' : 'warn'" [disabled]="true" [selected]="true">
      <mat-icon>verified_user</mat-icon>
      &nbsp;
      {{ 'user.initialized' | translate }}
    </mat-chip>

    <mat-chip
      [color]="user.status.encryption ? 'primary' : 'warn'"
      selectable="false"
      [disabled]="user.status.encryption"
      [selected]="true"
      (click)="generateKeypair(user.status.encryption)"
    >
      <mat-icon>enhanced_encryption</mat-icon>
      &nbsp;
      {{ 'user.encryption' | translate }}
    </mat-chip>

    <mat-chip [color]="user.passwords.length > 0 ? 'primary' : 'warn'" [disabled]="true" [selected]="true">
      <mat-icon>bookmarks</mat-icon>
      &nbsp;
      {{ 'passwords.count' | translate }}: {{ user.passwords.length }}
    </mat-chip>
  </mat-chip-list>

  <div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="center start" [ngStyle]="{ padding: '10px 0' }">
    <span fxFlex="0 1 auto">
      <canvas #canvas></canvas>
      <div class="mat-caption" [ngStyle]="{ 'text-align': 'center' }">
        {{ 'user.sessions' | translate }}
      </div>
    </span>
  </div>
</div>
